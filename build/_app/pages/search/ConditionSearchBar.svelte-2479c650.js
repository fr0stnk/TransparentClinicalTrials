import{S as e,i as t,s,e as l,t as r,k as c,c as n,a,g as o,n as u,d as i,b as h,f,H as d,J as p,h as g,K as m,L as v,M as y,N as B,x as T,u as x,w as A,O as S,P as E,Q as w,R as k,T as L,U as C,V as D,r as q,W as $}from"../../chunks/vendor-bbfa0731.js";import{s as I}from"../../chunks/stores-e4e5fbd7.js";function P(e,t,s){const l=e.slice();return l[22]=t[s],l}function b(e,t,s){const l=e.slice();return l[25]=t[s],l[27]=s,l}function V(e){let t,s,y,B,T,x,A,S,E,w=e[25]+"";function k(){return e[14](e[27])}return{c(){t=l("div"),s=r(w),y=c(),B=l("div"),T=c(),this.h()},l(e){t=n(e,"DIV",{class:!0});var l=a(t);s=o(l,w),y=u(l),B=n(l,"DIV",{class:!0}),a(B).forEach(i),T=u(l),l.forEach(i),this.h()},h(){h(B,"class","removeSearchArraySpan svelte-1tl8swx"),h(t,"class","searchArraySpan svelte-1tl8swx")},m(e,l){f(e,t,l),d(t,s),d(t,y),d(t,B),d(t,T),A=!0,S||(E=p(B,"click",k),S=!0)},p(t,l){e=t,(!A||1&l)&&w!==(w=e[25]+"")&&g(s,w)},i(e){A||(m((()=>{x||(x=v(t,C,{duration:200,delay:0,opacity:.25,start:.25,easing:L},!0)),x.run(1)})),A=!0)},o(e){x||(x=v(t,C,{duration:200,delay:0,opacity:.25,start:.25,easing:L},!1)),x.run(0),A=!1},d(e){e&&i(t),e&&x&&x.end(),S=!1,E()}}}function N(e){let t,s,r,c=e[5],o=[];for(let l=0;l<c.length;l+=1)o[l]=H(P(e,c,l));let u=null;return c.length||(u=M()),{c(){t=l("div");for(let e=0;e<o.length;e+=1)o[e].c();u&&u.c(),this.h()},l(e){t=n(e,"DIV",{class:!0});var s=a(t);for(let t=0;t<o.length;t+=1)o[t].l(s);u&&u.l(s),s.forEach(i),this.h()},h(){h(t,"class","visibleSearchTipsContainer svelte-1tl8swx")},m(e,s){f(e,t,s);for(let l=0;l<o.length;l+=1)o[l].m(t,null);u&&u.m(t,null),r=!0},p(e,s){if(164&s){let l;for(c=e[5],l=0;l<c.length;l+=1){const r=P(e,c,l);o[l]?o[l].p(r,s):(o[l]=H(r),o[l].c(),o[l].m(t,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=c.length,c.length?u&&(u.d(1),u=null):u||(u=M(),u.c(),u.m(t,null))}},i(e){r||(m((()=>{s||(s=v(t,D,{y:20,duration:125},!0)),s.run(1)})),r=!0)},o(e){s||(s=v(t,D,{y:20,duration:125},!1)),s.run(0),r=!1},d(e){e&&i(t),y(o,e),u&&u.d(),e&&s&&s.end()}}}function M(e){let t,s;return{c(){t=l("p"),s=r("Ничего не нашлось. Измените запрос"),this.h()},l(e){t=n(e,"P",{class:!0});var l=a(t);s=o(l,"Ничего не нашлось. Измените запрос"),l.forEach(i),this.h()},h(){h(t,"class","svelte-1tl8swx")},m(e,l){f(e,t,l),d(t,s)},d(e){e&&i(t)}}}function H(e){let t,s,m,v,y,B,T=e[22]+"";return{c(){t=l("div"),s=l("button"),m=r(T),v=c(),this.h()},l(e){t=n(e,"DIV",{class:!0});var l=a(t);s=n(l,"BUTTON",{id:!0,class:!0});var r=a(s);m=o(r,T),r.forEach(i),v=u(l),l.forEach(i),this.h()},h(){h(s,"id","tipsButton"),h(s,"class","focused svelte-1tl8swx"),h(t,"class","visibleSearchTips")},m(l,r){f(l,t,r),d(t,s),d(s,m),e[18](s),d(t,v),y||(B=p(s,"click",e[7]),y=!0)},p(e,t){32&t&&T!==(T=e[22]+"")&&g(m,T)},d(s){s&&i(t),e[18](null),y=!1,B()}}}function O(e){let t,s,g,m,v,E,w,k,L,C,D,$,I,P=e[0],M=[];for(let l=0;l<P.length;l+=1)M[l]=V(b(e,P,l));const H=e=>x(M[e],1,1,(()=>{M[e]=null}));let O=e[1].length&&!e[3]&&1==e[4]&&N(e);return{c(){t=l("main"),s=l("div"),g=l("p"),m=r("Здесь укажите название протокола или диагноз:"),v=c(),E=l("div"),w=l("div");for(let e=0;e<M.length;e+=1)M[e].c();k=c(),L=l("input"),C=c(),O&&O.c(),this.h()},l(e){t=n(e,"MAIN",{class:!0});var l=a(t);s=n(l,"DIV",{class:!0});var r=a(s);g=n(r,"P",{class:!0});var c=a(g);m=o(c,"Здесь укажите название протокола или диагноз:"),c.forEach(i),v=u(r),E=n(r,"DIV",{class:!0});var h=a(E);w=n(h,"DIV",{class:!0});var f=a(w);for(let t=0;t<M.length;t+=1)M[t].l(f);f.forEach(i),k=u(h),L=n(h,"INPUT",{autocomplete:!0,placeholder:!0,onfocus:!0,type:!0,class:!0}),h.forEach(i),r.forEach(i),C=u(l),O&&O.l(l),l.forEach(i),this.h()},h(){h(g,"class","searchDescription svelte-1tl8swx"),h(w,"class","searchArray svelte-1tl8swx"),h(L,"autocomplete","off"),h(L,"placeholder","Рак легких, рак мозга"),h(L,"onfocus","placeholder=''"),h(L,"type","text"),h(L,"class","svelte-1tl8swx"),h(E,"class","inputContainer svelte-1tl8swx"),h(s,"class","searchBar svelte-1tl8swx"),h(t,"class","svelte-1tl8swx")},m(l,r){f(l,t,r),d(t,s),d(s,g),d(g,m),d(s,v),d(s,E),d(E,w);for(let e=0;e<M.length;e+=1)M[e].m(w,null);d(E,k),d(E,L),B(L,e[1]),d(t,C),O&&O.m(t,null),D=!0,$||(I=[p(L,"input",e[15]),p(L,"keydown",e[9]),p(L,"keypress",e[10]),p(L,"click",e[8]),p(L,"input",e[8]),p(L,"focus",e[16]),p(L,"blur",e[17])],$=!0)},p(e,[s]){if(65&s){let t;for(P=e[0],t=0;t<P.length;t+=1){const l=b(e,P,t);M[t]?(M[t].p(l,s),T(M[t],1)):(M[t]=V(l),M[t].c(),T(M[t],1),M[t].m(w,null))}for(q(),t=P.length;t<M.length;t+=1)H(t);A()}2&s&&L.value!==e[1]&&B(L,e[1]),e[1].length&&!e[3]&&1==e[4]?O?(O.p(e,s),26&s&&T(O,1)):(O=N(e),O.c(),T(O,1),O.m(t,null)):O&&(q(),x(O,1,1,(()=>{O=null})),A())},i(e){if(!D){for(let e=0;e<P.length;e+=1)T(M[e]);T(O),D=!0}},o(e){M=M.filter(Boolean);for(let t=0;t<M.length;t+=1)x(M[t]);x(O),D=!1},d(e){e&&i(t),y(M,e),O&&O.d(),$=!1,S(I)}}}function U(e,t,s){let l,r,c;E(e,I,(e=>s(19,c=e)));let{searchTips:n}=t,{searchPropsArray:a=[]}=t,{searchTerm:o=""}=t,{searchButton:u="Text"}=t,{searchButtonClicked:i=!1}=t,{chosenElement:h=-1}=t;const f=w();function d(e){c.length>-1&&(a.splice(e,1),k(I,c=a,c),event.target.parentNode.remove())}let p=!1;return e.$$set=e=>{"searchTips"in e&&s(12,n=e.searchTips),"searchPropsArray"in e&&s(0,a=e.searchPropsArray),"searchTerm"in e&&s(1,o=e.searchTerm),"searchButton"in e&&s(2,u=e.searchButton),"searchButtonClicked"in e&&s(3,i=e.searchButtonClicked),"chosenElement"in e&&s(11,h=e.chosenElement)},e.$$.update=()=>{1&e.$$.dirty&&k(I,c=a,c),4096&e.$$.dirty&&s(13,l=n.filter((function(e,t){return n.indexOf(e)==t}))),8194&e.$$.dirty&&s(5,r=l.filter((e=>e.toLowerCase().includes(o.toLowerCase()))))},[a,o,u,i,p,r,d,function(e){a.push(e.target.innerHTML),s(0,a),s(1,o=""),s(3,i=!0)},function(){document.querySelectorAll(".focused").forEach((e=>e.classList.toggle("focused"))),s(3,i=!1)},function(e){if(38==e.keyCode){if(e.preventDefault(),s(11,h-=1),h<0)return s(11,h=-1),void document.querySelectorAll("#tipsButton")[0].classList.toggle("focused");document.querySelectorAll("#tipsButton")[h+1].classList.toggle("focused"),document.querySelectorAll("#tipsButton")[h].classList.toggle("focused")}40==e.keyCode&&(e.preventDefault(),s(11,h+=1),h==r.length?(s(11,h=0),document.querySelectorAll("#tipsButton")[r.length-1].classList.toggle("focused"),document.querySelectorAll("#tipsButton")[h].classList.toggle("focused")):(0==h||document.querySelectorAll("#tipsButton")[h-1].classList.toggle("focused"),document.querySelectorAll("#tipsButton")[h].classList.toggle("focused")))},function(e){13==e.charCode&&(e.preventDefault(),s(11,h=-1),!i&&document.querySelectorAll(".focused").length>0?(s(1,o=document.querySelector(".focused").innerHTML),a.push(o),s(0,a),s(1,o=""),s(3,i=!0)):(s(3,i=!0),f("searchTermPassed",{passedSearchTerm:a})))},h,n,l,e=>d(e),function(){o=this.value,s(1,o)},()=>{s(4,p=!0)},()=>{s(4,p=!1)},function(e){$[e?"unshift":"push"]((()=>{u=e,s(2,u)}))}]}class j extends e{constructor(e){super(),t(this,e,U,O,s,{searchTips:12,searchPropsArray:0,searchTerm:1,searchButton:2,searchButtonClicked:3,chosenElement:11})}}export{j as default};
