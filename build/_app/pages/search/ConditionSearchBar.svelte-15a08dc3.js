import{S as e,i as t,s,e as l,t as n,k as r,c,a,g as o,n as u,d as i,b as h,f,H as d,J as p,h as g,K as y,L as m,M as v,N as q,x as B,u as T,w as A,O as S,P as E,Q as k,R as L,T as C,U as D,V as $,r as I,W as P}from"../../chunks/vendor-bbfa0731.js";import{s as b}from"../../chunks/stores-e4e5fbd7.js";function V(e,t,s){const l=e.slice();return l[22]=t[s],l}function x(e,t,s){const l=e.slice();return l[25]=t[s],l[27]=s,l}function N(e){let t,s,v,q,B,T,A,S,E,k=e[25]+"";function L(){return e[14](e[27])}return{c(){t=l("div"),s=n(k),v=r(),q=l("div"),B=r(),this.h()},l(e){t=c(e,"DIV",{class:!0});var l=a(t);s=o(l,k),v=u(l),q=c(l,"DIV",{class:!0}),a(q).forEach(i),B=u(l),l.forEach(i),this.h()},h(){h(q,"class","removeSearchArraySpan svelte-1gqnyuq"),h(t,"class","searchArraySpan svelte-1gqnyuq")},m(e,l){f(e,t,l),d(t,s),d(t,v),d(t,q),d(t,B),A=!0,S||(E=p(q,"click",L),S=!0)},p(t,l){e=t,(!A||1&l)&&k!==(k=e[25]+"")&&g(s,k)},i(e){A||(y((()=>{T||(T=m(t,D,{duration:200,delay:0,opacity:.25,start:.25,easing:C},!0)),T.run(1)})),A=!0)},o(e){T||(T=m(t,D,{duration:200,delay:0,opacity:.25,start:.25,easing:C},!1)),T.run(0),A=!1},d(e){e&&i(t),e&&T&&T.end(),S=!1,E()}}}function w(e){let t,s,n,r=e[5],o=[];for(let l=0;l<r.length;l+=1)o[l]=H(V(e,r,l));let u=null;return r.length||(u=M()),{c(){t=l("div");for(let e=0;e<o.length;e+=1)o[e].c();u&&u.c(),this.h()},l(e){t=c(e,"DIV",{class:!0});var s=a(t);for(let t=0;t<o.length;t+=1)o[t].l(s);u&&u.l(s),s.forEach(i),this.h()},h(){h(t,"class","visibleSearchTipsContainer svelte-1gqnyuq")},m(e,s){f(e,t,s);for(let l=0;l<o.length;l+=1)o[l].m(t,null);u&&u.m(t,null),n=!0},p(e,s){if(164&s){let l;for(r=e[5],l=0;l<r.length;l+=1){const n=V(e,r,l);o[l]?o[l].p(n,s):(o[l]=H(n),o[l].c(),o[l].m(t,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=r.length,r.length?u&&(u.d(1),u=null):u||(u=M(),u.c(),u.m(t,null))}},i(e){n||(y((()=>{s||(s=m(t,$,{y:20,duration:125},!0)),s.run(1)})),n=!0)},o(e){s||(s=m(t,$,{y:20,duration:125},!1)),s.run(0),n=!1},d(e){e&&i(t),v(o,e),u&&u.d(),e&&s&&s.end()}}}function M(e){let t,s;return{c(){t=l("p"),s=n("Ничего не нашлось. Измените запрос"),this.h()},l(e){t=c(e,"P",{class:!0});var l=a(t);s=o(l,"Ничего не нашлось. Измените запрос"),l.forEach(i),this.h()},h(){h(t,"class","svelte-1gqnyuq")},m(e,l){f(e,t,l),d(t,s)},d(e){e&&i(t)}}}function H(e){let t,s,y,m,v,q,B=e[22]+"";return{c(){t=l("div"),s=l("button"),y=n(B),m=r(),this.h()},l(e){t=c(e,"DIV",{class:!0});var l=a(t);s=c(l,"BUTTON",{id:!0,class:!0});var n=a(s);y=o(n,B),n.forEach(i),m=u(l),l.forEach(i),this.h()},h(){h(s,"id","tipsButton"),h(s,"class","focused svelte-1gqnyuq"),h(t,"class","visibleSearchTips")},m(l,n){f(l,t,n),d(t,s),d(s,y),e[18](s),d(t,m),v||(q=p(s,"click",e[7]),v=!0)},p(e,t){32&t&&B!==(B=e[22]+"")&&g(y,B)},d(s){s&&i(t),e[18](null),v=!1,q()}}}function O(e){let t,s,g,y,m,E,k,L,C,D,$,P,b,V=e[0],M=[];for(let l=0;l<V.length;l+=1)M[l]=N(x(e,V,l));const H=e=>T(M[e],1,1,(()=>{M[e]=null}));let O=e[1].length&&!e[3]&&1==e[4]&&w(e);return{c(){t=l("main"),s=l("div"),g=l("p"),y=n("Здесь укажите название протокола или диагноз:"),m=r(),E=l("div"),k=l("div");for(let e=0;e<M.length;e+=1)M[e].c();L=r(),C=l("input"),D=r(),O&&O.c(),this.h()},l(e){t=c(e,"MAIN",{class:!0});var l=a(t);s=c(l,"DIV",{class:!0});var n=a(s);g=c(n,"P",{class:!0});var r=a(g);y=o(r,"Здесь укажите название протокола или диагноз:"),r.forEach(i),m=u(n),E=c(n,"DIV",{class:!0});var h=a(E);k=c(h,"DIV",{class:!0});var f=a(k);for(let t=0;t<M.length;t+=1)M[t].l(f);f.forEach(i),L=u(h),C=c(h,"INPUT",{autocomplete:!0,placeholder:!0,onfocus:!0,type:!0,class:!0}),h.forEach(i),n.forEach(i),D=u(l),O&&O.l(l),l.forEach(i),this.h()},h(){h(g,"class","searchDescription svelte-1gqnyuq"),h(k,"class","searchArray svelte-1gqnyuq"),h(C,"autocomplete","off"),h(C,"placeholder","Рак легких, рак мозга"),h(C,"onfocus","placeholder=''"),h(C,"type","text"),h(C,"class","svelte-1gqnyuq"),h(E,"class","inputContainer svelte-1gqnyuq"),h(s,"class","searchBar svelte-1gqnyuq"),h(t,"class","svelte-1gqnyuq")},m(l,n){f(l,t,n),d(t,s),d(s,g),d(g,y),d(s,m),d(s,E),d(E,k);for(let e=0;e<M.length;e+=1)M[e].m(k,null);d(E,L),d(E,C),q(C,e[1]),d(t,D),O&&O.m(t,null),$=!0,P||(b=[p(C,"input",e[15]),p(C,"keydown",e[9]),p(C,"keypress",e[10]),p(C,"click",e[8]),p(C,"input",e[8]),p(C,"focus",e[16]),p(C,"blur",e[17])],P=!0)},p(e,[s]){if(65&s){let t;for(V=e[0],t=0;t<V.length;t+=1){const l=x(e,V,t);M[t]?(M[t].p(l,s),B(M[t],1)):(M[t]=N(l),M[t].c(),B(M[t],1),M[t].m(k,null))}for(I(),t=V.length;t<M.length;t+=1)H(t);A()}2&s&&C.value!==e[1]&&q(C,e[1]),e[1].length&&!e[3]&&1==e[4]?O?(O.p(e,s),26&s&&B(O,1)):(O=w(e),O.c(),B(O,1),O.m(t,null)):O&&(I(),T(O,1,1,(()=>{O=null})),A())},i(e){if(!$){for(let e=0;e<V.length;e+=1)B(M[e]);B(O),$=!0}},o(e){M=M.filter(Boolean);for(let t=0;t<M.length;t+=1)T(M[t]);T(O),$=!1},d(e){e&&i(t),v(M,e),O&&O.d(),P=!1,S(b)}}}function U(e,t,s){let l,n,r;E(e,b,(e=>s(19,r=e)));let{searchTips:c}=t,{searchPropsArray:a=[]}=t,{searchTerm:o=""}=t,{searchButton:u="Text"}=t,{searchButtonClicked:i=!1}=t,{chosenElement:h=-1}=t;const f=k();function d(e){r.length>-1&&(a.splice(e,1),L(b,r=a,r),event.target.parentNode.remove())}let p=!1;return e.$$set=e=>{"searchTips"in e&&s(12,c=e.searchTips),"searchPropsArray"in e&&s(0,a=e.searchPropsArray),"searchTerm"in e&&s(1,o=e.searchTerm),"searchButton"in e&&s(2,u=e.searchButton),"searchButtonClicked"in e&&s(3,i=e.searchButtonClicked),"chosenElement"in e&&s(11,h=e.chosenElement)},e.$$.update=()=>{1&e.$$.dirty&&L(b,r=a,r),4096&e.$$.dirty&&s(13,l=c.filter((function(e,t){return c.indexOf(e)==t}))),8194&e.$$.dirty&&s(5,n=l.filter((e=>e.toLowerCase().includes(o.toLowerCase()))))},[a,o,u,i,p,n,d,function(e){a.push(e.target.innerHTML),s(0,a),s(1,o=""),s(3,i=!0)},function(){document.querySelectorAll(".focused").forEach((e=>e.classList.toggle("focused"))),s(3,i=!1)},function(e){if(38==e.keyCode){if(e.preventDefault(),s(11,h-=1),h<0)return s(11,h=-1),void document.querySelectorAll("#tipsButton")[0].classList.toggle("focused");document.querySelectorAll("#tipsButton")[h+1].classList.toggle("focused"),document.querySelectorAll("#tipsButton")[h].classList.toggle("focused")}40==e.keyCode&&(e.preventDefault(),s(11,h+=1),h==n.length?(s(11,h=0),document.querySelectorAll("#tipsButton")[n.length-1].classList.toggle("focused"),document.querySelectorAll("#tipsButton")[h].classList.toggle("focused")):(0==h||document.querySelectorAll("#tipsButton")[h-1].classList.toggle("focused"),document.querySelectorAll("#tipsButton")[h].classList.toggle("focused")))},function(e){13==e.charCode&&(e.preventDefault(),s(11,h=-1),!i&&document.querySelectorAll(".focused").length>0?(s(1,o=document.querySelector(".focused").innerHTML),a.push(o),s(0,a),s(1,o=""),s(3,i=!0)):(s(3,i=!0),f("searchTermPassed",{passedSearchTerm:a})))},h,c,l,e=>d(e),function(){o=this.value,s(1,o)},()=>{s(4,p=!0)},()=>{s(4,p=!1)},function(e){P[e?"unshift":"push"]((()=>{u=e,s(2,u)}))}]}class j extends e{constructor(e){super(),t(this,e,U,O,s,{searchTips:12,searchPropsArray:0,searchTerm:1,searchButton:2,searchButtonClicked:3,chosenElement:11})}}export{j as default};
