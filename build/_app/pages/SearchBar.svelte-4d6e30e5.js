import{S as e,i as t,s,e as l,c,a as n,d as o,b as a,f as r,t as u,k as i,g as h,n as d,H as f,J as m,h as p,K as g,L as v,M as B,N as T,x as y,u as L,w as S,O as b,P as k,Q as E,r as C,R as q}from"../chunks/vendor-df480a88.js";function A(e,t,s){const l=e.slice();return l[14]=t[s],l}function z(e){let t,s,u,i=e[3],h=[];for(let l=0;l<i.length;l+=1)h[l]=N(A(e,i,l));let d=null;return i.length||(d=D()),{c(){t=l("div");for(let e=0;e<h.length;e+=1)h[e].c();d&&d.c(),this.h()},l(e){t=c(e,"DIV",{class:!0});var s=n(t);for(let t=0;t<h.length;t+=1)h[t].l(s);d&&d.l(s),s.forEach(o),this.h()},h(){a(t,"class","visibleSearchTipsContainer svelte-1lmibzc")},m(e,s){r(e,t,s);for(let l=0;l<h.length;l+=1)h[l].m(t,null);d&&d.m(t,null),u=!0},p(e,s){if(26&s){let l;for(i=e[3],l=0;l<i.length;l+=1){const c=A(e,i,l);h[l]?h[l].p(c,s):(h[l]=N(c),h[l].c(),h[l].m(t,null))}for(;l<h.length;l+=1)h[l].d(1);h.length=i.length,i.length?d&&(d.d(1),d=null):d||(d=D(),d.c(),d.m(t,null))}},i(e){u||(g((()=>{s||(s=v(t,E,{y:20,duration:125},!0)),s.run(1)})),u=!0)},o(e){s||(s=v(t,E,{y:20,duration:125},!1)),s.run(0),u=!1},d(e){e&&o(t),B(h,e),d&&d.d(),e&&s&&s.end()}}}function D(e){let t,s;return{c(){t=l("p"),s=u("Ничего не нашлось. Измените запрос"),this.h()},l(e){t=c(e,"P",{class:!0});var l=n(t);s=h(l,"Ничего не нашлось. Измените запрос"),l.forEach(o),this.h()},h(){a(t,"class","svelte-1lmibzc")},m(e,l){r(e,t,l),f(t,s)},d(e){e&&o(t)}}}function N(e){let t,s,g,v,B,T,y=e[14]+"";return{c(){t=l("div"),s=l("button"),g=u(y),v=i(),this.h()},l(e){t=c(e,"DIV",{class:!0});var l=n(t);s=c(l,"BUTTON",{id:!0,class:!0});var a=n(s);g=h(a,y),a.forEach(o),v=d(l),l.forEach(o),this.h()},h(){a(s,"id","tipsButton"),a(s,"class","focused svelte-1lmibzc"),a(t,"class","visibleSearchTips")},m(l,c){r(l,t,c),f(t,s),f(s,g),e[12](s),f(t,v),B||(T=m(s,"click",e[4]),B=!0)},p(e,t){8&t&&y!==(y=e[14]+"")&&p(g,y)},d(s){s&&o(t),e[12](null),B=!1,T()}}}function $(e){let t,s,p,g,v,B,k,E,q,A,D=e[0].length&&!e[2]&&z(e);return{c(){t=l("main"),s=l("div"),p=l("input"),g=i(),v=l("button"),B=u("Искать"),k=i(),D&&D.c(),this.h()},l(e){t=c(e,"MAIN",{class:!0});var l=n(t);s=c(l,"DIV",{class:!0});var a=n(s);p=c(a,"INPUT",{autocomplete:!0,placeholder:!0,onfocus:!0,id:!0,type:!0,class:!0}),g=d(a),v=c(a,"BUTTON",{class:!0});var r=n(v);B=h(r,"Искать"),r.forEach(o),a.forEach(o),k=d(l),D&&D.l(l),l.forEach(o),this.h()},h(){a(p,"autocomplete","off"),a(p,"placeholder","Введите запрос здесь"),a(p,"onfocus","placeholder=''"),a(p,"id","searchForName"),a(p,"type","text"),a(p,"class","svelte-1lmibzc"),a(v,"class","searchButton svelte-1lmibzc"),a(s,"class","searchBar svelte-1lmibzc"),a(t,"class","svelte-1lmibzc")},m(l,c){r(l,t,c),f(t,s),f(s,p),T(p,e[0]),f(s,g),f(s,v),f(v,B),f(t,k),D&&D.m(t,null),E=!0,q||(A=[m(p,"input",e[11]),m(p,"keydown",e[6]),m(p,"keypress",e[7]),m(p,"input",e[5]),m(v,"click",e[8])],q=!0)},p(e,[s]){1&s&&p.value!==e[0]&&T(p,e[0]),e[0].length&&!e[2]?D?(D.p(e,s),5&s&&y(D,1)):(D=z(e),D.c(),y(D,1),D.m(t,null)):D&&(C(),L(D,1,1,(()=>{D=null})),S())},i(e){E||(y(D),E=!0)},o(e){L(D),E=!1},d(e){e&&o(t),D&&D.d(),q=!1,b(A)}}}function x(e,t,s){let l,{searchTips:c}=t,{searchTerm:n=""}=t,{searchButton:o="Text"}=t,{searchButtonClicked:a=!1}=t,{chosenElement:r=-1}=t;const u=k();function i(){s(2,a=!0),u("searchTermPassed",{passedSearchTerm:n})}return e.$$set=e=>{"searchTips"in e&&s(10,c=e.searchTips),"searchTerm"in e&&s(0,n=e.searchTerm),"searchButton"in e&&s(1,o=e.searchButton),"searchButtonClicked"in e&&s(2,a=e.searchButtonClicked),"chosenElement"in e&&s(9,r=e.chosenElement)},e.$$.update=()=>{1025&e.$$.dirty&&s(3,l=c.filter((e=>e.toLowerCase().includes(n.toLowerCase()))))},[n,o,a,l,function(e){s(0,n=e.target.innerHTML),s(2,a=!0)},function(){document.querySelectorAll(".focused").forEach((e=>e.classList.toggle("focused"))),s(2,a=!1)},function(e){if(38==e.keyCode){if(e.preventDefault(),s(9,r-=1),r<0)return s(9,r=-1),void document.querySelectorAll("#tipsButton")[0].classList.toggle("focused");document.querySelectorAll("#tipsButton")[r+1].classList.toggle("focused"),document.querySelectorAll("#tipsButton")[r].classList.toggle("focused")}40==e.keyCode&&(e.preventDefault(),s(9,r+=1),r==l.length?(s(9,r=0),document.querySelectorAll("#tipsButton")[l.length-1].classList.toggle("focused"),document.querySelectorAll("#tipsButton")[r].classList.toggle("focused")):(0==r||document.querySelectorAll("#tipsButton")[r-1].classList.toggle("focused"),document.querySelectorAll("#tipsButton")[r].classList.toggle("focused")))},function(e){13==e.charCode&&(e.preventDefault(),s(9,r=-1),a?i():(s(0,n=document.querySelector(".focused").innerHTML),s(2,a=!0)))},i,r,c,function(){n=this.value,s(0,n)},function(e){q[e?"unshift":"push"]((()=>{o=e,s(1,o)}))}]}class I extends e{constructor(e){super(),t(this,e,x,$,s,{searchTips:10,searchTerm:0,searchButton:1,searchButtonClicked:2,chosenElement:9})}}export{I as default};
